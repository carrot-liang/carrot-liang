#!name=CarrotModule
#!desc=ADBlock

## 规则类型
### DOMAIN-SUFFIX：匹配请求域名的后缀，如 DOMAIN-SUFFIX,example.com,DIRECT 可以匹配到 a.example.com a.b.example.com
### DOMAIN-KEYWORD：匹配请求域名的关键词，如 DOMAIN-KEYWORD,exa,DIRECT 可以匹配到 a.example.com a.b.example.com
### DOMAIN-WILDCARD：匹配请求域名，支持使用通配符 *、?，如 DOMAIN-WILDCARD,a*c.example*.com,DIRECT 可以匹配到 abc.example123.com、aqwec.example456.com
### DOMAIN：匹配请求的完整域名，如 DOMAIN,www.example.com,DIRECT 只能匹配到 www.example.com
### USER-AGENT：匹配用户代理字符串，支持使用通配符 *，如 USER-AGENT,MicroMessenger*,DIRECT 可以匹配到 MicroMessenger Client
### URL-REGEX：匹配 URL 正则式，如 URL-REGEX,^https?://.+/item.+,REJECT 可以匹配到 https://www.example.com/item/abc/123

## 规则策略
### PROXY：代理。通过代理服务器转发流量
### DIRECT：直连。连接不经过任何代理服务器
### REJECT：拒绝。返回 HTTP 状态码 404，没有内容
### REJECT-DICT：拒绝。返回 HTTP 状态码 200，内容为空的JSON对象
### REJECT-ARRAY：拒绝。返回 HTTP 状态码 200，内容为空的JSON数组
### REJECT-200：拒绝。返回 HTTP 状态码 200，没有内容
### REJECT-IMG：拒绝。返回 HTTP 状态码 200，内容为 1 像素 GIF
### REJECT-TINYGIF：拒绝。返回HTTP状态码200，内容为 1 像素 GIF
### REJECT-DROP：拒绝。丢弃 IP 包
### REJECT-NO-DROP：拒绝。返回 ICMP 端口不可达

[Rule]
URL-REGEX,^https?://ad.12306.cn.+,REJECT
URL-REGEX,^https?://starplucker.cyapi.cn/v3/config/cypage/personal/conditions/local,REJECT-DICT
URL-REGEX,^https?://ad.cyapi.cn.+,REJECT
URL-REGEX,^https?://cnlogs.umeng.com.+,REJECT
URL-REGEX,^https?://cnlogs.umengcloud.com.+,REJECT
URL-REGEX,^https?://bootpreload.uve.weibo.com/v2/ad/preload,REJECT-DICT
URL-REGEX,^https?://m5-x.amap.com/.+,REJECT
URL-REGEX,^https?://dns.alidns.com.+,REJECT
URL-REGEX,^https?://doh.pub.+,REJECT
URL-REGEX,^https?://ads-img-al.xhscdn.com.+,REJECT
URL-REGEX,^https?://ads-img-qc.xhscdn.com.+,REJECT
URL-REGEX,^https?://ads-video-al.xhscdn.com.+,REJECT
URL-REGEX,^https?://ads-video-qc.xhscdn.com.+,REJECT
URL-REGEX,^https?://ads-vp5.xhscdn.com.+,REJECT
URL-REGEX,^https?://ads-.*\.xhscdn.com.+,REJECT
URL-REGEX,^https?://growth-img.xhscdn.com.+,REJECT
URL-REGEX,^https?://sns-webpic.xhscdn.com.+,REJECT
URL-REGEX,^https?://xhslive-video.xhscnd.com.+,REJECT

# MITM 中应包含Rule中定义的所有域名
[MITM]
hostname = %APPEND% ad.12306.cn, *.cyapi.cn, cnlogs.umeng.com, cnlogs.umengcloud.com, bootpreload.uve.weibo.com, m5-x.amap.com, dns.alidns.com, doh.pub, *.xhscdn.com
